# Environment Configuration for RAG Azure AI Module
# Copy this file to .env and fill in your actual values

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true
API_TITLE=RAG Azure AI Module
API_DESCRIPTION=Multimodal RAG service using Azure AI
API_VERSION=1.0.0
API_MAX_UPLOAD_SIZE=52428800  # 50MB in bytes
API_CORS_ORIGINS=*

# Optional API key for securing endpoints
# API_KEY=your-api-key-here

# =============================================================================
# Azure OpenAI Configuration
# =============================================================================
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-openai-api-key
AZURE_OPENAI_API_VERSION=2023-12-01-preview
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4
AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME=text-embedding-ada-002
AZURE_OPENAI_MAX_TOKENS=4000
AZURE_OPENAI_TEMPERATURE=0.7

# =============================================================================
# Azure Cognitive Search Configuration
# =============================================================================
AZURE_SEARCH_ENDPOINT=https://your-search-service.search.windows.net
AZURE_SEARCH_API_KEY=your-search-api-key
AZURE_SEARCH_INDEX_NAME=rag-multimodal-index
AZURE_SEARCH_SEMANTIC_CONFIG=semantic-config

# =============================================================================
# Azure Document Intelligence (Form Recognizer) Configuration
# =============================================================================
AZURE_FORM_RECOGNIZER_ENDPOINT=https://your-form-recognizer.cognitiveservices.azure.com/
AZURE_FORM_RECOGNIZER_KEY=your-form-recognizer-key

# =============================================================================
# Azure Computer Vision Configuration
# =============================================================================
AZURE_COMPUTER_VISION_ENDPOINT=https://your-computer-vision.cognitiveservices.azure.com/
AZURE_COMPUTER_VISION_KEY=your-computer-vision-key

# =============================================================================
# Azure Speech Services Configuration (Optional)
# =============================================================================
AZURE_SPEECH_KEY=your-speech-service-key
AZURE_SPEECH_REGION=your-speech-service-region

# =============================================================================
# Azure Storage Configuration (Optional - for file storage)
# =============================================================================
# AZURE_STORAGE_ACCOUNT_NAME=your-storage-account
# AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
# AZURE_STORAGE_CONTAINER_NAME=documents

# =============================================================================
# Azure Active Directory Configuration (Optional - for authentication)
# =============================================================================
# AZURE_TENANT_ID=your-tenant-id
# AZURE_CLIENT_ID=your-client-id
# AZURE_CLIENT_SECRET=your-client-secret

# =============================================================================
# Redis Configuration (Optional - for caching)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=your-redis-password

# =============================================================================
# Document Processing Configuration
# =============================================================================
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_FILE_SIZE_MB=50
MAX_RETRIES=3
RETRY_DELAY=5

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/logs/rag-service.log

# =============================================================================
# Environment Configuration
# =============================================================================
ENVIRONMENT=development  # development, staging, production

# =============================================================================
# Docker Configuration
# =============================================================================
DOCKER_TARGET=development  # development, production

# =============================================================================
# Monitoring Configuration (Optional)
# =============================================================================
# GRAFANA_PASSWORD=your-grafana-password

# =============================================================================
# Security Configuration
# =============================================================================
# Enable HTTPS in production
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# =============================================================================
# Performance Tuning
# =============================================================================
# Number of worker processes for production
WORKERS=4

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_SPEECH_SERVICES=true
ENABLE_COMPUTER_VISION=true
ENABLE_DOCUMENT_INTELLIGENCE=true
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true

# =============================================================================
# Health Check Configuration
# =============================================================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# Backup and Recovery Configuration
# =============================================================================
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30

# =============================================================================
# Development Configuration
# =============================================================================
# Enable auto-reload in development
AUTO_RELOAD=true

# Enable debug logging
DEBUG_SQL=false
DEBUG_AZURE_CALLS=false

# =============================================================================
# Testing Configuration
# =============================================================================
# TEST_AZURE_OPENAI_ENDPOINT=https://your-test-openai.openai.azure.com/
# TEST_AZURE_SEARCH_ENDPOINT=https://your-test-search.search.windows.net

# =============================================================================
# Custom Configuration
# =============================================================================
# Add any custom environment variables your deployment needs

# Example: Custom model configurations
# CUSTOM_MODEL_ENDPOINT=https://your-custom-model.com/
# CUSTOM_MODEL_API_KEY=your-custom-model-key

# Example: External service integrations
# WEBHOOK_URL=https://your-webhook-endpoint.com/
# NOTIFICATION_EMAIL=admin@yourcompany.com